<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <title>ออเดอร์ทั้งหมด</title>
</head>
<body>
  <h2>รายการออเดอร์</h2>
  <div id="ordersList"></div>
  <a href="menu.html">กลับไปเมนู</a>

  <script>
    let orders = JSON.parse(localStorage.getItem("orders")) || [];
    let ordersList = document.getElementById("ordersList");

    if (orders.length === 0) {
      ordersList.innerHTML = "<p>ยังไม่มีออเดอร์</p>";
    } else {
      orders.forEach((order, index) => {
        let div = document.createElement("div");
        div.style.border = "1px solid #ccc";
        div.style.margin = "10px";
        div.style.padding = "10px";
        div.innerHTML = `<h3>ออเดอร์ #${index + 1} (${order.time})</h3>`;
        
        let table = "<table border='1' cellpadding='5'><tr><th>เมนู</th><th>จำนวน</th><th>ราคา</th></tr>";
        order.cart.forEach(item => {
          table += `<tr>
                      <td>${item.name}</td>
                      <td>${item.qty}</td>
                      <td>${item.price * item.qty}</td>
                    </tr>`;
        });
        table += "</table>";
        
        table += `<p>รวม: ${order.totalQty} ไม้ | ${order.totalPrice} บาท</p>`;
        div.innerHTML += table;
        ordersList.appendChild(div);
      });
    }
  </script>
</body>
</html>
